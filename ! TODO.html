	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<pre>
	Stratégie
	* parse tout : produx
		source :
			{
				lines : [ tokens : [], hash : [] ]
			}
	
	* compte les elements markdown et escape &lt;? ... ?&gt;
	* transform les et compt la hauteur
	
	* detect typing, and when 
		-> typing changes TEXT
		-> typing changes selection
		
	* when TEXT changes
		-> figure out WHAT changed
			* typing inside a function ?
			* typing a NEW function ?
			* DELETING a function ?

			* creating a new MD comment or text escape ?
			
		-> save text selection (line, offset)
		-> update html
		-> reset selection

	
	source
		all lines ?
		
		contains function list
			-> BIRDVIEW
				birdview xhib tout les sources
				
				
	DATA OWNERSHIP ? si chac document a son fich, prqoi pas.
	MAIS la birdview dev soy partage par tous.


	//
	hover variable : SHOW each assignment and usage in the function prior to it. and also the next ones.
	
	ATTENTION CTRL+O : insert line in place
	
	//
	make file links clickable, eg include('blah.js')
								-> click 'blah.js'
		

	autocomplete : highlight le symbol sur la page s'il exist.
	
	
	special case for option-backspace : delete to back of line

	design bouton : http://recaptcha.net/
	
	highlight line bar red when lint fails
	
	keying up : extent selection to line start

<hr>
detect which char i'm hovering on, find which braces i'm in, highlight surrounding code block

<hr>

	DISCARD BOLD and italic and stuff like that.


	http://www.quirksmode.org/dom/range_intro.html

	triple selection doesn't work ! should select line
	quadruple click : select block if (...)
	quintuple click : select function
	-> fex vec clickCount dans mouseDown event
	
	
	run a script : trailing whitespace
	[line.replace(/\s*$/g)] for line in lines



	rename local variable or function argument
	
	
	shortcut : use plugin for indent and outdent

PROBLEM 
	* overlapping block on lines
		eazeaz */ var a = b 

	* return exp plant

////

	* bouton droit, insert -> list comprehension
	var list = [x] for x in 0..4
	doThis(y) for y in m

	* call graph : hover sur un fonxion
	called by
		responder method
		first responder …
		javascript functions …
		etc.

	* unfold the method list on a right pane.
		the same content as the popup, but clickable.
		-> enable it for drag and drop
	
	* add the possibility to extra style the source page, eg
		file:///Users/mini/Sites/mathml/MathML%20Stress%20Tests.xhtml
		
	* drag and drop comment start and end
	
	* convert spaces to tabs
	
	* line extending to show indentations : show a light drop shadow disappearing when approaching the edages, like on the obama website.
	
	* line numbers : in a custom div
	
	* check when dragging text with mouse
	
	* bordure d'indentation : just un roundrect
	
	* undo : typing et paste compte pour 2 commands !
		type, type, paste -> undo : will undo only type
		
	* class : record all variables, allow renaming
	
	* script : to uppercase, to lowercase -> only identifiers, or only strings.
	
	
<hr>
	birdview : xhib bookmarks

	auto align on assign
	
	var a = 4
	var bz = 8
	var hello = 'world'
	->
	var a		= 4
	var bz		= 8
	var	hello	= 'world'


<hr>
	handle copy paste
	
<hr>
	multiple line selection then tab and shift-tab
	
	contenteditable in CSS -webkit-user-modify
	http://developer.apple.com/documentation/appleapplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html
	
	hover birdview = scroll to function
	
<hr>
	hover string immediate : show length + toLower, toUpper, ...
	
<hr>
	hover regex : link to regex guide
	
	add line number to birdview
	
	hover outlet : highlight usage in methods (birdview)
	+ show in tooltip ?
	
<hr>
	argument commments
	fn(a, b, /* must be a hash */ c) -> will show up in autocomplete
	
	birdview : xhib function length with a progressbar-like symbol, being red and showing line count if it's more than 200.
	


problems : 
.line
{
	position: relative; 
}
mixes code up :
line 1		: (tab)(newline)
line 2		: (tab)function(tab)(newline)
line 3		: (tab){(newline)
-> go to start of line 1, type 'suppr' -> turns into
line 1		: (tab){(tab)function(tab)fn2
-> REMOVE position: relative


<hr>
	hover line number : 
		bookmark this line
		add a breakpoint
		
	from a class variable, highlight which functions it's used into

<hr>
	log should show a message clickable back to its source. a macro should change log(msg) to log(source, line, msg)
	
	search : use birdview to show search result count

	option up/down : go to prev / next function. implement select too.
	option up : go to function start. shift option down : go to function end

<hr>
	hover var not found : show local vars, argument vars, class vars, known globals

<hr>
	highlight where current line is in birdview
	
<hr>
	hover regex : one input to test in place, show result 
	
<hr>
	somehow show git history
	
<hr>
	highlight line number having a function definition
	
<hr>
	graph code paths INSIDE functions. Useful ? Path count indicates complexity.
	
	codeblock1
	if (cond1)	codeblock2
	if (cond2)	codeblock3
	else	 	codeblock4
	codeblock5
	
	-> codeblock1 codeblock2 codeblock3 codeblock5
	-> codeblock1 codeblock3 codeblock5
	-> codeblock1 codeblock4 codeblock5
	-> codeblock1 codeblock2 codeblock4 codeblock5
	
<hr>
	find : highlight tout d'un coup, faceon safari
	find : exclude comments, search only in code

<hr>
	left and right can give tree -> show folding
	
<hr>
	history of visited functions and bookmarks ? go back and forth between them
	
<hr>
	interpreter : when user gets "command not found" or any error for three times in a row, output link to docs, class list, etc
	
<hr>
	hover var : show which line it's declared, which lines it's used on (+ context lines if room, leaving out return)
	
<hr>
	hover birdview fn : show entry and exit functions (is called by XXX, calling YYY)
	
	hover a closing brace whose opening brace is off-screen : show it in tooltip
	
<hr>
	multi line selexion : button indent / outdent
	
<hr>
	when caret is in a class, show all class variables + methods
	
	highlight method call to distinguish from calling from expression nesting
	
<hr>
	warn of declared but unused variables (computed but not stored or used)
	
<hr>
	function list in birdview : display number of in and out functions
	
<hr>
	undo / redo : flash lines

	image in source (iboutlet)
	
	convert to class
	
	distinguish function call from expressions : different highlight !
	
<hr>
	upon a control structure : hover to go down to closing brace
	
	birdview : hover left part to go to function start, right part to go to function end (or hover lines 56->61 : hover end line -> end, everywhere else : start)
	
<hr>
	is it possible to determine which functions have side effects vs functions which are purely building stuff ?
	-> no reading globals
	-> no modifying globals
	-> no changing input params (need to backtrace in each function)
	
<hr>
	visual marker after end of file.
	File Path, n lines (size on disk saved, date saved)
	Reveal in finder
	
<hr>
	add a box showing error count, plus go to first, next ...
	
<hr>
	undo : save scrollTop
	
<hr>
	an option to highlight 'lone' strings : strings that exist uniquely throughout the file or the project
	
<hr>
	search results: indicate which function we're in (two columns : where, what)
	
<hr>
	size indicators : hovering on a line number shows size of lines up (size as kb) and size of lines down
<hr>
	right menu : select text
		lint selection
		convert selection
		-> open in a new window